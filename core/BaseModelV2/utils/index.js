const a0_0x262aab=a0_0x2378;(function(_0x3ba5ad,_0x39b959){const _0xfa8747=a0_0x2378,_0xabb0ab=_0x3ba5ad();while(!![]){try{const _0xde6dd2=parseInt(_0xfa8747(0x1dd))/0x1+-parseInt(_0xfa8747(0x1b9))/0x2+-parseInt(_0xfa8747(0x1c4))/0x3*(-parseInt(_0xfa8747(0x1ab))/0x4)+-parseInt(_0xfa8747(0x1b3))/0x5+parseInt(_0xfa8747(0x1b7))/0x6*(parseInt(_0xfa8747(0x19c))/0x7)+parseInt(_0xfa8747(0x1df))/0x8+-parseInt(_0xfa8747(0x1c8))/0x9;if(_0xde6dd2===_0x39b959)break;else _0xabb0ab['push'](_0xabb0ab['shift']());}catch(_0x1b404a){_0xabb0ab['push'](_0xabb0ab['shift']());}}}(a0_0x437b,0x848db));function a0_0x2378(_0x3cf3df,_0x39766d){const _0x437b56=a0_0x437b();return a0_0x2378=function(_0x237824,_0x1fb798){_0x237824=_0x237824-0x18f;let _0xdcdb3e=_0x437b56[_0x237824];return _0xdcdb3e;},a0_0x2378(_0x3cf3df,_0x39766d);}const moment=require(a0_0x262aab(0x1d5)),pool=require(a0_0x262aab(0x1d4));function a0_0x437b(){const _0x5db4d2=['object','join','includes','selectBuilder','generateInsertValues','length','ceil','con','parseValue','92ttBwgL','table','date','\x20-\x20','map','transform','int','includeTrash','4293300lwAbFl','qry','all','key','2514nTIYvR','group','1388108hcWoWQ','split','datetime','../../../models/Tag','push','null','orderQuery','fKey','queryBuilder','NULL','forEach','78702poHJJy','selectedFields','nextPage','YYYY-MM-DD\x20HH:mm:ss','9028998dYtEsG','ref_id','appends','promise','order','getAppendedAttributes','.id','pluck','firstData','decimal','whereQuery','total','../../dbconnect','moment','havingQuery','closeConnection','retRelationships','where','indexOf','keys','\x20WHERE\x20','829773YEKttK','decimalTypeCast','4821736ypGdEJ','limit','groupQuery','currentPage','orderBy','charAt','taggables','getPaginationDataCallback','openConnection','../../../models/','created_at','fillables','substr','generateValidFields','generateLoggables','deleted_at','getPaginationCountCallback','delete','.deleted_at\x20IS\x20NULL','data','exports','queryBuilderV2','saveTags','\x20AND\x20','slice','append','skip','toString','with','relType','create','whereIn','extractRelKey','17759RWSWzW','max','getConnection','insertId','filter','format'];a0_0x437b=function(){return _0x5db4d2;};return a0_0x437b();}class BaseModelUtils{[a0_0x262aab(0x1e7)]=async()=>{const _0x12b54f=a0_0x262aab;if(!this[_0x12b54f(0x1a9)])this['con']=await pool[_0x12b54f(0x1cb)]()[_0x12b54f(0x19e)]();};[a0_0x262aab(0x1ef)]=(_0x34e2f0,_0x248cb0,_0x1906e9,_0x27a73a)=>{const _0x35f2e7=a0_0x262aab;_0x248cb0=+_0x248cb0;let _0x2e9595=_0x27a73a?_0x27a73a[0x0]:+_0x34e2f0[0x0][0x0][0x0][_0x35f2e7(0x1d3)];const _0x485dc2=_0x27a73a?_0x27a73a[0x1]:_0x34e2f0[0x0][0x1][0x0][_0x35f2e7(0x1d3)],_0x40ecfb=_0x2e9595===0x0?0x0:+_0x1906e9*(+_0x248cb0-0x1)+0x1,_0x11ee07=+_0x1906e9*+_0x248cb0;let _0x5207b4={'rawTotal':_0x485dc2,'total':_0x2e9595,'pages':Math[_0x35f2e7(0x1a8)](_0x2e9595/+_0x1906e9),'currentPage':_0x248cb0,'prevPage':_0x248cb0>0x1?_0x248cb0-0x1:0x1,'pageSize':_0x1906e9,'showing':_0x40ecfb+_0x35f2e7(0x1ae)+(_0x11ee07>_0x2e9595?_0x2e9595:_0x11ee07)};return _0x5207b4[_0x35f2e7(0x1c6)]=+_0x5207b4[_0x35f2e7(0x1e2)]<+_0x5207b4['pages']?+_0x5207b4[_0x35f2e7(0x1e2)]+0x1:+_0x5207b4['pages'],_0x5207b4[_0x35f2e7(0x1f2)]=[],_0x5207b4;};[a0_0x262aab(0x1e6)]=async(_0x8962cc,_0x1af07e)=>{const _0x41e7ef=a0_0x262aab;return _0x1af07e['firstData']=_0x8962cc&&_0x8962cc[0x0][0x0]?this[_0x41e7ef(0x1de)]({'data':_0x8962cc[0x0][0x0],'fillables':this[_0x41e7ef(0x1ea)]}):null,_0x1af07e[_0x41e7ef(0x1f2)]=_0x8962cc?this['decimalTypeCast']({'data':_0x8962cc[0x0][0x1],'fillables':this[_0x41e7ef(0x1ea)]}):null,_0x1af07e[_0x41e7ef(0x1d0)]&&(_0x1af07e[_0x41e7ef(0x1d0)]=await this[_0x41e7ef(0x1d8)](_0x1af07e['firstData']),_0x1af07e[_0x41e7ef(0x1d0)]=await this['getAppendedAttributes'](_0x1af07e[_0x41e7ef(0x1d0)]),_0x1af07e[_0x41e7ef(0x1d0)]=_0x1af07e[_0x41e7ef(0x1d0)][0x0],_0x1af07e[_0x41e7ef(0x1f2)]=await this[_0x41e7ef(0x1d8)](_0x1af07e[_0x41e7ef(0x1f2)]),_0x1af07e[_0x41e7ef(0x1f2)]=await this[_0x41e7ef(0x1cd)](_0x1af07e[_0x41e7ef(0x1f2)])),_0x1af07e;};[a0_0x262aab(0x1d8)]=async _0x253dea=>{const _0x3fcaa5=a0_0x262aab,{withTables:_0x6071b3}=this;let _0xfa11d7=[];if(_0x6071b3[_0x3fcaa5(0x1a7)]&&_0x253dea[_0x3fcaa5(0x1a7)])return _0xfa11d7=await Promise[_0x3fcaa5(0x1b5)](_0x253dea['map'](async _0x191ad4=>{const _0x4ee483=_0x3fcaa5;return await Promise['all'](_0x6071b3[_0x4ee483(0x1af)](async _0x5a358b=>{const _0x554af2=_0x4ee483,_0x3c27c6=require(_0x554af2(0x1e8)+_0x5a358b['model']);let _0x5570f5=new _0x3c27c6(this['con']);if(_0x5a358b[_0x554af2(0x197)])_0x5570f5=_0x5570f5[_0x554af2(0x197)](_0x5a358b[_0x554af2(0x197)][_0x554af2(0x1ba)](/-(?![^()]*(?:\([^()]*\))?\))/));_0x5a358b['qry']&&typeof _0x5a358b[_0x554af2(0x1b4)]===_0x554af2(0x1a2)&&Object[_0x554af2(0x1db)](_0x5a358b[_0x554af2(0x1b4)])['map'](_0x5e0b7f=>{const _0x4868d7=_0x554af2;if(_0x5e0b7f===_0x4868d7(0x1e3))_0x5570f5=_0x5570f5[_0x5e0b7f](_0x5a358b[_0x4868d7(0x1b4)][_0x5e0b7f][0x0],_0x5a358b['qry'][_0x5e0b7f][0x1]);else _0x5570f5=_0x5570f5[_0x5e0b7f](_0x5a358b[_0x4868d7(0x1b4)][_0x5e0b7f]);});const _0x41375f=await _0x5570f5[_0x554af2(0x1d9)]({[_0x5a358b[_0x554af2(0x1c0)]]:{'value':_0x191ad4[_0x5a358b['sKey']]}})[_0x5a358b[_0x554af2(0x198)]]();_0x191ad4[_0x5a358b[_0x554af2(0x1b6)]]=null;if(_0x41375f&&!_0x41375f['error']){_0x5a358b[_0x554af2(0x1b6)]=this[_0x554af2(0x19b)](_0x5a358b['key']),_0x191ad4[_0x5a358b[_0x554af2(0x1b6)]]=_0x41375f;if(_0x5a358b['transform'])_0x191ad4[_0x5a358b['key']]=_0x5a358b[_0x554af2(0x1b0)](_0x191ad4[_0x5a358b[_0x554af2(0x1b6)]]);}return _0x191ad4;})),_0x191ad4;})),_0xfa11d7;else return _0x253dea;};[a0_0x262aab(0x1cd)]=async _0x2c6ac9=>{const _0x8fb11c=a0_0x262aab;let _0xf86035=[];if(this[_0x8fb11c(0x1ca)]&&this[_0x8fb11c(0x1ca)][_0x8fb11c(0x1a7)])_0xf86035=await Promise['all'](_0x2c6ac9[_0x8fb11c(0x1af)](async _0xd0aa33=>{const _0x3eb807=_0x8fb11c;return await Promise[_0x3eb807(0x1b5)](this[_0x3eb807(0x1ca)][_0x3eb807(0x1af)](async _0x4b9805=>{const _0x3a2d7a=_0x3eb807,_0xf4849a=_0x4b9805[_0x3a2d7a(0x1ba)]('_')[_0x3a2d7a(0x1af)](_0x573b9c=>_0x573b9c[_0x3a2d7a(0x1e4)](0x0)['toUpperCase']()+_0x573b9c[_0x3a2d7a(0x193)](0x1))[_0x3a2d7a(0x1a3)]('');if(this[_0x3a2d7a(0x194)+_0xf4849a])_0xd0aa33=await this[_0x3a2d7a(0x194)+_0xf4849a](_0xd0aa33,this[_0x3a2d7a(0x1a9)]);return _0xd0aa33;})),_0xd0aa33;}));else _0xf86035=_0x2c6ac9;return _0xf86035;};[a0_0x262aab(0x1ec)]=(_0x243a08,_0x1afaa4)=>{const _0x4d1db8=a0_0x262aab;let _0xa722db=[];return _0x243a08[_0x4d1db8(0x1af)](_0x11bcef=>{const _0x42d624=_0x4d1db8;_0x1afaa4[_0x11bcef]!==undefined&&_0xa722db[_0x42d624(0x1bd)](_0x11bcef);}),_0xa722db;};[a0_0x262aab(0x190)]=(_0x49ac72,_0x21cefd={})=>{const _0x40d545=a0_0x262aab,_0x5e1cfe={'join':!![],'where':!![],'group':!![],'having':!![],'order':!![],'limit':!![],'skip':!![],..._0x21cefd};let _0x3cd5ea=_0x49ac72;const _0x3a2177=Object[_0x40d545(0x1db)](this['fillables'])[_0x40d545(0x1da)](_0x40d545(0x1ee))>-0x1;if(_0x5e1cfe[_0x40d545(0x1a3)])_0x3cd5ea+=this['joinQuery'];if(_0x5e1cfe[_0x40d545(0x1d9)])_0x3cd5ea+=this[_0x40d545(0x1d2)];if(!this[_0x40d545(0x1b2)]&&_0x3a2177){const _0x28a7e6=this[_0x40d545(0x1ac)]+_0x40d545(0x1f1);if(this['whereQuery'])_0x3cd5ea+=_0x40d545(0x192)+_0x28a7e6+'\x20';else _0x3cd5ea+=_0x40d545(0x1dc)+_0x28a7e6;}if(_0x5e1cfe[_0x40d545(0x1b8)])_0x3cd5ea+=this[_0x40d545(0x1e1)];if(_0x5e1cfe['having'])_0x3cd5ea+=this[_0x40d545(0x1d6)];if(_0x5e1cfe[_0x40d545(0x1cc)])_0x3cd5ea+=this[_0x40d545(0x1bf)];if(_0x5e1cfe['limit'])_0x3cd5ea+=this[_0x40d545(0x1e0)];if(_0x5e1cfe[_0x40d545(0x195)])_0x3cd5ea+=this[_0x40d545(0x195)];return _0x3cd5ea;};[a0_0x262aab(0x1c1)]=(_0x39f87f,_0x4fad12,_0x1f080b,_0x386334)=>{const _0x86bcbd=a0_0x262aab,_0x5eed0e=Object['keys'](_0x1f080b)[_0x86bcbd(0x1da)](_0x86bcbd(0x1ee))>-0x1;if(!_0x4fad12&&_0x5eed0e){const _0x77d2b4=_0x386334+_0x86bcbd(0x1f1);if(_0x39f87f)_0x39f87f+=_0x86bcbd(0x192)+_0x77d2b4+'\x20';else _0x39f87f=_0x86bcbd(0x1dc)+_0x77d2b4;}return _0x39f87f;};[a0_0x262aab(0x1a5)]=()=>{const _0x55ebcb=a0_0x262aab;let _0x4cd62e=this[_0x55ebcb(0x1ac)]+'.*',_0x1972ae=Object[_0x55ebcb(0x1db)](this[_0x55ebcb(0x1ea)]);if(this['protected']['length']>0x0)_0x1972ae=_0x1972ae[_0x55ebcb(0x1a0)](_0x1af249=>this['protected'][_0x55ebcb(0x1da)](_0x1af249)===-0x1);if(this[_0x55ebcb(0x1c5)][_0x55ebcb(0x1a7)]>0x0){const _0x34305f=!this[_0x55ebcb(0x1c5)][_0x55ebcb(0x1a4)]('id')&&!this[_0x55ebcb(0x1c5)][_0x55ebcb(0x1a4)](this['table']+_0x55ebcb(0x1ce))&&!this[_0x55ebcb(0x1c5)][_0x55ebcb(0x1a4)](this[_0x55ebcb(0x1ac)]+'.*')&&!this[_0x55ebcb(0x1c5)][_0x55ebcb(0x1a4)]('*');_0x4cd62e=[..._0x34305f?[this[_0x55ebcb(0x1ac)]+_0x55ebcb(0x1ce)]:[],...this[_0x55ebcb(0x1c5)]][_0x55ebcb(0x1a3)](',');}else _0x4cd62e=[this[_0x55ebcb(0x1ac)]+_0x55ebcb(0x1ce),..._0x1972ae]['join'](',');return _0x4cd62e;};[a0_0x262aab(0x1aa)]=(_0xf0e67,_0x210f6e)=>{const _0x1ded0a=a0_0x262aab,_0x1b9fda={'string':'','text':'','int':0x0,'decimal':0x0,'date':moment()['format'](_0x1ded0a(0x1c7)),'datetime':moment()[_0x1ded0a(0x1a1)]('YYYY-MM-DD\x20HH:mm:ss')};let _0xbfaf82=(_0xf0e67===_0x1ded0a(0x1be)||_0xf0e67===null||!_0xf0e67)&&_0x210f6e!=='decimal'&&_0x210f6e!=='int'?_0x1ded0a(0x1c2):_0x1b9fda[_0x210f6e];if(_0xf0e67&&_0xbfaf82!==_0x1ded0a(0x1c2))switch(_0x210f6e){case _0x1ded0a(0x1bb):_0xbfaf82=moment(_0xf0e67)['format'](_0x1ded0a(0x1c7));break;case _0x1ded0a(0x1ad):_0xbfaf82=moment(_0xf0e67)[_0x1ded0a(0x1a1)]('YYYY-MM-DD');break;case _0x1ded0a(0x1b1):case _0x1ded0a(0x1d1):_0xbfaf82=parseFloat(_0xf0e67?_0xf0e67:0x0);break;case'string':_0xbfaf82=_0xf0e67[_0x1ded0a(0x196)]();default:_0xbfaf82=_0xf0e67;break;}return _0xbfaf82!==_0x1ded0a(0x1c2)?'\x27'+_0xbfaf82+'\x27':_0xbfaf82;};[a0_0x262aab(0x1de)]=({data:_0x35d126,fillables:_0x5207c0})=>{const _0x11f753=a0_0x262aab;if(_0x35d126){const _0x29b22b=Object[_0x11f753(0x1db)](_0x5207c0)[_0x11f753(0x1a0)](_0x4ce219=>_0x5207c0[_0x4ce219]===_0x11f753(0x1d1));_0x29b22b[_0x11f753(0x1a7)]&&(_0x35d126=_0x35d126['map'](_0x743904=>{let _0x1becd9={..._0x743904};return _0x29b22b['forEach'](_0x1c6a97=>_0x1becd9[_0x1c6a97]=parseFloat(_0x743904[_0x1c6a97])),_0x1becd9;}));}return _0x35d126;};['extractRelKey']=_0x3db008=>{const _0x550dad=a0_0x262aab;let _0x36d7e6=_0x3db008;const _0x455549=_0x3db008[_0x550dad(0x1da)](':');return _0x455549>-0x1&&(_0x36d7e6=_0x36d7e6[_0x550dad(0x1eb)](0x0,_0x455549)),_0x36d7e6;};[a0_0x262aab(0x1d7)]=()=>{if(!this['connectionReused'])this['con']['release']();};[a0_0x262aab(0x1a6)]=(_0x555084,_0x385ee3)=>{const _0x43087b=a0_0x262aab;let _0x29aa4a='';return _0x555084[_0x43087b(0x1c3)](_0x25ca9c=>{const _0xf868b8=_0x43087b;if(_0x385ee3['indexOf'](_0xf868b8(0x1e9))>-0x1)_0x25ca9c[_0xf868b8(0x1e9)]=moment()['format'](_0xf868b8(0x1c7));_0x29aa4a+=(_0x29aa4a?',':'')+'\x20('+_0x385ee3[_0xf868b8(0x1af)](_0x4a8cba=>''+this['parseValue'](_0x25ca9c[_0x4a8cba],this[_0xf868b8(0x1ea)][_0x4a8cba]))[_0xf868b8(0x1a3)](',')+')';}),_0x29aa4a;};[a0_0x262aab(0x1ed)]=(_0xbc337,_0x203ea0)=>{const _0x50ea2b=a0_0x262aab;if(_0xbc337&&_0x203ea0)return[...Array(_0xbc337['affectedRows'])][_0x50ea2b(0x1af)]((_0x28429f,_0x1b1704)=>{const _0x5945e5=_0x50ea2b;return{..._0x203ea0,'ref_id':_0xbc337[_0x5945e5(0x19f)]+_0x1b1704};});return null;};[a0_0x262aab(0x191)]=async(_0x4f7540=[])=>{const _0xf12127=a0_0x262aab,_0x1a2445=require(_0xf12127(0x1bc));_0x4f7540&&_0x4f7540['length']&&await new _0x1a2445(this[_0xf12127(0x1a9)])[_0xf12127(0x1d9)]({'ref_type':{'value':this[_0xf12127(0x1ac)]}})[_0xf12127(0x19a)]({'ref_id':_0x4f7540})[_0xf12127(0x1f0)]([]);if(this[_0xf12127(0x1e5)]&&this['taggables'][_0xf12127(0x1a7)]&&_0x4f7540&&_0x4f7540[_0xf12127(0x1a7)]){const _0x4ca772=[];this['taggables'][_0xf12127(0x1c3)](_0x4c5e8f=>{const _0xfb7b2a=_0xf12127;_0x4f7540[_0xfb7b2a(0x1c3)](_0xb9126b=>{_0x4ca772['push']({'ref_id':_0xb9126b,'ref_type':this['table'],'name':_0x4c5e8f});});}),await new _0x1a2445(this[_0xf12127(0x1a9)])[_0xf12127(0x199)](_0x4ca772);}};['getTagged']=async(_0x2a974f=0xf)=>{const _0x2c83b2=a0_0x262aab;if(this[_0x2c83b2(0x1e5)]&&this[_0x2c83b2(0x1e5)]['length']){const _0x59e85b=require(_0x2c83b2(0x1bc)),_0x587f67=await new _0x59e85b(this[_0x2c83b2(0x1a9)])['where']({'ref_type':{'value':this[_0x2c83b2(0x1ac)]}})['whereIn']({'name':this['taggables']})[_0x2c83b2(0x19d)](_0x2a974f)[_0x2c83b2(0x1cf)]([_0x2c83b2(0x1c9)]);if(_0x587f67&&_0x587f67[_0x2c83b2(0x1a7)])this[_0x2c83b2(0x19a)]({[this[_0x2c83b2(0x1ac)]+'.id']:_0x587f67},'OR');}};}module[a0_0x262aab(0x18f)]=BaseModelUtils;